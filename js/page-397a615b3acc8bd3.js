(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6794:(e,t,s)=>{Promise.resolve().then(s.bind(s,88688))},88688:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var l=s(95155),n=s(12115);let a=()=>(0,l.jsxs)("section",{className:"w-full border border-[#262626] rounded-[10px] bg-[#E1D7D5]/10 flex flex-col items-center justify-center gap-4 px-4 py-6 md:p-8 ",children:[(0,l.jsx)("h1",{className:"font-adlam text-bold text-xl text-white",children:"About $KUNU"}),(0,l.jsx)("p",{className:"text-center font-nova text-[#8f7e7c] max-w-2xl",children:"Welcome, friend. I'm Kunu, your on-chain ice block. Each hour I use whatever fees Iâ€™ve collected (for example, around $10K per $1M in volume) to buy and freeze $KUNU locking it away and chilling the circulating supply. Over time, this reduces what's liquid and ramps up the pressure."})]}),r=(0,s(19946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var i=s(6874),o=s.n(i);let c=e=>{let t=new Date(e);return{time:t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),day:t.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"})}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return e?"".concat(e.substring(0,t),"...").concat(e.substring(e.length-s)):""};function u(e){let{history:t}=e,[s,a]=(0,n.useState)(!1),[i,u]=(0,n.useState)(1);if((0,n.useEffect)(()=>{let e=()=>{a(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),!t||0===t.length)return(0,l.jsx)("div",{className:"text-light/50 py-8 text-center",children:"No lock history found."});let x=Math.ceil(t.length/5),h=t.slice((i-1)*5,5*i);return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"".concat(s?"hidden":"block"," w-full"),children:(0,l.jsx)("div",{className:"divide-y divide-[#262626]/60 font-nova w-full",children:t.map(e=>{let{time:t,day:s}=c(e.createdAt);return(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-6 py-3 rounded hover:bg-light/5 transition-colors duration-200",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{className:"text-white font-mono text-[13px] break-all",children:d(e.burnSignature)})}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"text-light/50 text-sm",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{className:"ml-2 text-light",children:s})]})}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"text-[13px]",children:[(0,l.jsxs)("span",{className:"text-[#FF4F0F] font-bold",children:[(e.tokenAmount/1e6).toFixed(2)," $KUNU"]}),(0,l.jsxs)("span",{className:"text-light/50",children:[" ","($",(e.solAmount*e.solPriceUSD).toFixed(2),")"]})]})}),(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsxs)(o(),{href:"https://solscan.io/tx/".concat(e.burnSignature),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-light/50 hover:text-light transition-colors duration-200 text-[10px] group w-fit bg-light/5 px-2 py-1 rounded-[7px]",children:[(0,l.jsx)("span",{children:"View Transaction"}),(0,l.jsx)(r,{className:"w-2.5 h-2.5 group-hover:translate-x-0.5 transition-transform duration-200"})]})})]},e._id)})})}),(0,l.jsxs)("div",{className:"".concat(s?"block":"hidden"," relative overflow-x-auto no-scrollbar"),children:[(0,l.jsx)("table",{className:"w-full font-nova",children:(0,l.jsx)("tbody",{children:h.map(e=>{let{time:t,day:s}=c(e.createdAt);return(0,l.jsxs)("tr",{className:"flex items-center justify-between border-b border-[#262626]/60 hover:bg-light/5 transition-colors duration-200",children:[(0,l.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"text-light/50 text-sm flex flex-col",children:[(0,l.jsx)("span",{children:t}),(0,l.jsx)("span",{className:"text-light",children:s})]})}),(0,l.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"text-[13px] flex flex-col",children:[(0,l.jsxs)("span",{className:"text-[#FF4F0F] font-bold",children:[(e.tokenAmount/1e6).toFixed(2)," $KUNU"]}),(0,l.jsxs)("span",{className:"text-light/50",children:["($",(e.solAmount*e.solPriceUSD).toFixed(2),")"]})]})}),(0,l.jsx)("td",{className:"flex justify-end p-2 whitespace-nowrap",children:(0,l.jsxs)("a",{href:"https://solscan.io/tx/".concat(e.burnSignature),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-light/50 hover:text-light transition-colors duration-200 text-[10px] group w-fit bg-light/5 px-2 py-1 rounded-[7px]",children:[(0,l.jsx)("span",{children:"Solscan"}),(0,l.jsx)(r,{className:"w-2.5 h-2.5 group-hover:translate-x-0.5 transition-transform duration-200"})]})})]},e._id)})})}),(0,l.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:Array.from({length:x},(e,t)=>(0,l.jsx)("button",{onClick:()=>u(t+1),className:"px-3 py-1 rounded ".concat(i===t+1?"bg-[#a2d2df] text-white":"bg-light/5 text-light/50 hover:bg-light/10 hover:text-light"," transition-colors duration-200"),children:t+1},t))})]})]})}let x=e=>{let{burnHistory:t}=e;return(0,l.jsxs)("section",{className:"w-full border border-[#262626] rounded-[10px] bg-[#E1D7D5]/10 flex flex-col items-center justify-center gap-4 px-4 py-6 md:p-8 ",children:[(0,l.jsx)("h1",{className:"font-adlam text-bold text-xl text-white",children:"Lock History"}),(0,l.jsx)(u,{history:t})]})};var h=s(66766),m=s(59416);async function f(e){if(!e||0===e.length)return[];let t=e.join(",");if(!t)return[];let s="https://datapi.jup.ag/v1/pools?assetIds=".concat(encodeURIComponent(t));try{let t=await fetch(s);if(!t.ok)return console.error("Jupiter API request failed for batch (first 5: ".concat(e.slice(0,5).join(","),") with status ").concat(t.status)),[];return(await t.json()).pools||[]}catch(t){return console.error("Error fetching Jupiter batch (first 5: ".concat(e.slice(0,5).join(","),")"),t),[]}}var p=s(23570),g=s(38233),j=s(29359),w=s(21689),v=s(5791);let b=new p.PublicKey("2c4cYd4reUYVRAB9kUUkrq55VPyy2FNQ3FDL4o12JXmq");async function N(e){let t=(0,w.Jm)(),s=(0,w.WR)(),l=new p.PublicKey(e),n=new g.BN(0),a=new g.BN(0);try{let e=(0,w.uw)(l),r=await t.account.launch.fetch(e);a=r.feeClaimed,n=(await s.account.virtualPool.fetch((0,w.sR)(j.FX,l,r.config),"recent")).partnerQuoteFee}catch(t){console.error("Error fetching DBC unclaimed fees for ".concat(e,":"),t)}try{let t=new v.Tq(w.FI),s=(0,v.A3)(b,l,j.FX),r=(0,w.ik)(),i=await t.getUserPositionByPool(s,r).then(e=>e[0]);if(!i)return console.warn("No position found for mint address: ".concat(e)),{feeClaimed:a.toNumber()/1e9*.5,feeUnclaimed:n.toNumber()/1e9*.5};let o=await t.fetchPoolState(s),c=(0,v.PG)(o,i.positionState);n=n.add(c.feeTokenB)}catch(t){console.error("Error fetching AMM unclaimed fees for ".concat(e,":"),t)}return{feeClaimed:a.toNumber()/1e9*.5,feeUnclaimed:n.toNumber()/1e9*.5}}let y=e=>{let{value:t}=e;return(0,l.jsxs)("div",{className:"relative w-full h-full",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 h-full",children:[(0,l.jsx)("div",{className:"w-full h-full rounded-[7px] bg-[#E1D7D5]/10"}),(0,l.jsx)("div",{className:"w-full h-full rounded-[7px] bg-[#E1D7D5]/10"})]}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-light text-7xl font-alinsa mt-1 font-bold",children:t})]})},F=e=>{let{target:t,onComplete:s}=e,[a,r]=(0,n.useState)((()=>{let e=t-new Date;return e>0?{days:Math.floor(e/(1000*60*60*24)),hours:Math.floor((e%(1000*60*60*24))/(1000*60*60)),minutes:Math.floor((e%(1000*60*60))/(1000*60)),seconds:Math.floor((e%60000)/1000)}:{days:0,hours:0,minutes:0,seconds:0}})());(0,n.useEffect)(()=>{if(t-new Date<=0){r({days:0,hours:0,minutes:0,seconds:0}),s();return}let e=setInterval(()=>{let l=t-new Date;l>0?r({days:Math.floor(l/(1000*60*60*24)),hours:Math.floor((l%(1000*60*60*24))/(1000*60*60)),minutes:Math.floor((l%(1000*60*60))/(1000*60)),seconds:Math.floor((l%60000)/1000)}):(r({days:0,hours:0,minutes:0,seconds:0}),s(),clearInterval(e))},1e3);return()=>clearInterval(e)},[t,s]);let i=e=>e.toString().padStart(2,"0");return(0,l.jsxs)("div",{className:"flex gap-2 w-full h-[100px]",children:[(0,l.jsx)(y,{value:i(a.days)}),(0,l.jsx)(y,{value:i(a.hours)}),(0,l.jsx)(y,{value:i(a.minutes)}),(0,l.jsx)(y,{value:i(a.seconds)})]})},k="contract",S=e=>{let{totalBurned:t,totalBurnedUsd:s,isCountdownComplete:a,setIsCountdownComplete:r,onStatsUpdate:i,isLoading:o}=e,[c,d]=(0,n.useState)(0),[u,x]=(0,n.useState)(0),[g,j]=(0,n.useState)(0),[v,b]=(0,n.useState)({unclaimedInSol:0,unclaimedInUsd:0}),[y,S]=(0,n.useState)(0),U=new Date('2025-07-21T18:00:00Z'),D=[{label:"Current Price",value:c.toFixed(6),unit:"$"},{label:"Market Cap",value:u.toLocaleString(),unit:"$"},{label:"Holders",value:Math.round(g).toLocaleString(),unit:""}],E=async()=>{try{let e=await w.FI.getTokenSupply(new p.PublicKey(k));S(Number(e.value.amount));let{feeUnclaimed:t}=await N(k),s=(await (0,w.Ur)()).data.So11111111111111111111111111111111111111112.price||0;b({unclaimedInSol:t,unclaimedInUsd:t*s})}catch(e){console.error("Error fetching total supply:",e)}};return(0,n.useEffect)(()=>{let e=async()=>{try{let e=await f([k]);e&&e[0]&&e[0].baseAsset&&(d(e[0].baseAsset.usdPrice||0),x(e[0].baseAsset.mcap||0),j(e[0].baseAsset.holderCount||0))}catch(e){console.error("Error fetching market data:",e)}},t=setInterval(e,5e3);return e(),()=>clearInterval(t)},[]),(0,n.useEffect)(()=>{if(!a)return;console.log("Countdown complete. Starting 5-minute polling window for new burn data...");let e=setInterval(()=>{console.log("Polling for stats update..."),i(),E()},5e3),t=setTimeout(()=>{console.log("5-minute polling window finished. Stopping poll."),clearInterval(e),r(!1)},3e5);return()=>{console.log("Cleaning up polling effect."),clearInterval(e),clearTimeout(t)}},[a]),(0,n.useEffect)(()=>{E()},[]),(0,l.jsx)("section",{className:"w-full mx-auto",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8 md:py-10",children:[(0,l.jsx)("div",{className:"flex justify-center md:w-1/2",children:(0,l.jsx)(h.default,{src:"/assets/hero.gif",alt:"Fire Robot Mascot",width:100,height:100,className:"w-full h-auto",priority:!0})}),(0,l.jsxs)("div",{className:"space-y-4 md:w-1/2 flex flex-col items-center w-full justify-between gap-4 mt-4 md:mt-0",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("h1",{className:"hidden md:block text-light opacity-[54%] font-nova text-lg w-full text-center md:text-left",children:o?"Loading...":a?"Next burn is happening":"$KUNU Launch Countdown"}),o?(0,l.jsx)("div",{className:"text-light/50 text-lg text-center md:text-left py-4 h-[100px] flex items-center justify-center w-full bg-[#E1D7D5]/10 rounded-[7px]",children:"Loading..."}):(0,l.jsx)(F,{target:U,onComplete:()=>r(!0)}),(0,l.jsx)("h1",{className:"md:hidden text-light opacity-[54%] font-nova text-lg w-full text-center mt-3",children:o?"Loading...":a?"Next burn is happening":"Until next Buy and Burn"})]}),(0,l.jsx)("div",{className:"w-full space-y-2",children:(0,l.jsxs)("div",{className:"bg-[#E1D7D5]/10 rounded-[7px] px-3 py-2 flex flex-row md:flex-col lg:flex-row items-center justify-between w-full",children:[(0,l.jsxs)("div",{className:"relative group text-light font-adlam font-bold text-sm md:text-lg flex items-center gap-1",children:[(0,l.jsx)("p",{children:"Fuel Reserve"}),(0,l.jsx)("span",{children:(0,l.jsx)(h.default,{src:"/assets/i.png",width:12,height:12,alt:"Fuel Reserve Icon"})}),(0,l.jsx)("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 mb-2 w-[250px] px-2 py-1 bg-black/50 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Fees from trades accumulate here until next lock."})]}),(0,l.jsxs)("div",{className:"text-light text-sm md:text-lg flex items-center gap-2",children:[(0,l.jsxs)("p",{className:"font-nova font-semibold",children:[v.unclaimedInSol.toFixed(6)," SOL"]}),(0,l.jsxs)("span",{className:"font-inkunt opacity-80 font-bold",children:["($",v.unclaimedInUsd.toLocaleString(),")"]})]})]})}),(0,l.jsx)("div",{className:"w-full hidden md:flex justify-between items-center",children:D.map((e,t)=>(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1 w-full",children:[(0,l.jsx)("div",{className:"text-light/40 text-[13px] font-nova",children:e.label}),(0,l.jsx)("div",{className:"text-light text-xl flex items-center gap-2",children:(0,l.jsxs)("p",{className:"font-adlam font-bold",children:[e.unit,e.value]})})]}),t<D.length-1&&(0,l.jsx)("div",{className:"h-14 w-px bg-light/20 mx-2"})]},t))}),(0,l.jsxs)("div",{className:"w-full space-y-2",children:[(0,l.jsx)(m.z,{percent:y>0?t/y*100:0,flame:!0}),(0,l.jsxs)("p",{className:"font-nova font-semibold text-center md:text-right text-light text-base",children:[(t/1e6).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ","$KUNU LOCKED",(0,l.jsxs)("span",{className:"font-inkunt opacity-80 font-bold ml-1",children:["($",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]})]}),(0,l.jsx)("div",{className:"w-full md:hidden",children:D.map((e,t)=>(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1 w-full",children:[(0,l.jsx)("div",{className:"text-light/40 text-[13px] font-nova",children:e.label}),(0,l.jsx)("div",{className:"text-light text-xl flex items-center gap-2",children:(0,l.jsxs)("p",{className:"font-inkunt font-bold",children:[e.unit,e.value]})})]}),t<D.length-1&&(0,l.jsx)("div",{className:"w-[200px] h-px bg-light/20 mx-auto my-6"})]},t))})]})]})})};function U(){let[e,t]=(0,n.useState)({totalBurntAmount:0,totalBurnedUsd:0,lastBurn:null,burnHistory:[]}),[s,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!0),c=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/stats");if(!e.ok)throw Error("Polling: Failed to fetch burn stats");let s=await e.json();t(s)}catch(e){console.error(e)}},[]);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/stats");if(!e.ok)throw Error("Initial Fetch: Failed to fetch stats");let s=await e.json();t(s)}catch(e){console.error(e)}finally{o(!1)}})()},[]),(0,l.jsxs)("div",{className:"space-y-6 md:space-y-12",children:[(0,l.jsx)(S,{totalBurned:e.totalBurntAmount,totalBurnedUsd:e.totalBurnedUsd,isCountdownComplete:s,setIsCountdownComplete:r,onStatsUpdate:c,isLoading:i}),(0,l.jsx)(a,{}),(0,l.jsx)(x,{burnHistory:e.burnHistory}),(0,l.jsxs)("p",{className:"text-sm text-center font-semibold max-w-2xl mx-auto text-light/70",children:[(0,l.jsx)("span",{className:"text-white/80 font-bold",children:"Disclaimer:"})," $KUNU is a meme-token with no inherent value or guaranteed returns. It exists purely for entertainment. By acquiring $KUNU, you acknowledge and accept this disclaimer."]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[956,919,481,33,63,486,83,95,251,441,684,358],()=>t(6794)),_N_E=e.O()}]);